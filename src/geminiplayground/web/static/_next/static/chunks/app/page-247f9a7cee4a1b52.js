(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7881:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(95155),a=s(12115),n=s(25384);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},25384:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(52596),a=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},50183:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(95155),a=s(12115),n=s(99708),l=s(74466),i=s(25384);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:s})),ref:t,...c})});d.displayName="Button"},51571:(e,t,s)=>{"use strict";s.d(t,{default:()=>ex});var r=s(95155),a=s(12115);s(90249);var n=s(99336);function l(e){let{children:t}=e,[s,l]=(0,a.useState)(!1),i=n[s?"Check":"Copy"];return(0,r.jsx)("div",{className:"code-copy-btn",children:(0,r.jsx)(i,{onClick:e=>{let s=t.props.children;navigator.clipboard.writeText(s),l(!0),setTimeout(()=>{l(!1)},500)},size:18,color:s?"#0af20a":"#ddd"})})}var i=s(60060),o=s(15041),d=s(85604),c=s(25657),u=s(71554),m=s.n(u);function f(e){let{className:t}=e;return(0,r.jsxs)("div",{className:"".concat(m().loader," ").concat(t),children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})}var p=s(59003),g=s(1495),x=s(93836),h=s(19086),v=s(45679),j=s(16690),b=s(58497),y=s(47580),N=s(57324),w=s(66766),_=s(50183),I=s(33096),R=s(51362);let k=e=>{let{children:t}=e;return(0,r.jsxs)("pre",{className:"blog-pre",children:[(0,r.jsx)(l,{children:t}),t]})},A=e=>{let{markdown:t}=e,{theme:s}=(0,R.D)();return(0,r.jsx)(p.oz,{remarkPlugins:[g.A,x.A,h.A,v.A],rehypePlugins:[j.A],components:{pre:k,code(e){let{node:t,inline:a,className:n="blog-code",children:l,...i}=e,o=/language-(\w+)/.exec(n||"");return!a&&o?(0,r.jsx)(b.A,{style:"dark"===s?y.A:N.A,showLineNumbers:!0,language:o[1],PreTag:"div",...i,children:String(l).replace(/\n$/,"")}):(0,r.jsx)("code",{className:n,...i,children:l})}},children:t})};function C(e){let{message:{content:t,moment:s}}=e;return(0,r.jsxs)("div",{className:"flex flex-row m-1 p-1",children:[(0,r.jsx)("div",{className:"content-center",children:(0,r.jsx)(o.A,{className:"size-10"})}),(0,r.jsxs)("div",{className:"flex flex-col rounded-2xl bg-background fade-in mr-2 w-full p-3 divide-y",children:[(0,r.jsx)("span",{className:"p-2",children:t}),(0,r.jsxs)("div",{className:"flex items-center grid-cols-2 place-content-between",children:[(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:"User"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:s})]})]})]})]})}function S(e){var t,s;let{message:{content:a,moment:n,error:l,loading:i=!1}}=e;return(0,r.jsxs)("div",{className:"flex m-1 p-1",children:[i?(0,r.jsx)("div",{className:"rounded-2xl bg-background fade-in w-full p-3 mt-2",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)(f,{className:"place-content-start"})})}):(0,r.jsxs)("div",{className:"rounded-2xl bg-background fade-in mr-2 w-full p-3 divide-y",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(A,{markdown:a})}),(0,r.jsx)("div",{children:l&&(0,r.jsx)("p",{className:"text-red-500 text-sm pb-4",children:(null==l?void 0:null===(s=l.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.detail)||l.message})})]}),(0,r.jsxs)("div",{className:"flex items-center grid-cols-2 place-content-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)(_.$,{variant:"ghost",onClick:()=>navigator.clipboard.writeText(a),children:(0,r.jsx)(d.A,{size:"15"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:"Model"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})]})]}),(0,r.jsx)("div",{className:"content-center",children:(0,r.jsx)(c.A,{className:"size-10"})})]})}function F(e){let{messages:t=[],onClearChatQueue:s=null}=e,a=(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,r.jsx)(w.default,{src:"gemini-logo.svg",alt:"Gemini Logo",width:200,height:200,priority:!0})});if(0===t.length)return a;let n=[...t].reverse().map((e,t)=>"user"===e.role?(0,r.jsx)(C,{message:e},t):(0,r.jsx)(S,{message:e},t));return(0,r.jsxs)("div",{className:"relative pt-[40px]",children:[(0,r.jsx)(i.E,{variant:"outline",className:"absolute left-0 top-3",children:"Output"}),(0,r.jsxs)(_.$,{className:"absolute right-0 top-0",variant:"ghost",onClick:function(){console.log("Clearing chat history"),s&&s()},children:[(0,r.jsx)(I.ucK,{}),"clear"]}),n.length>0?n:a]})}var z=s(25384);let D=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,z.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});D.displayName="Textarea",s(7797),s(58846);var M=s(76942);let T=(e,t)=>{let s=e=>"string"==typeof e?e:JSON.stringify(e);return s(e)===s(t)};function E(e){return'\n        <tag title="'.concat(e.value,"\"\n                contenteditable='false'\n                spellcheck='false'\n                tabIndex=\"-1\"\n                class='tagify__tag  custom-tag'\n                {this.getAttributes(tagData)}>\n            <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n            <div style=\"display: flex;  align-items: center\"> \n                <div class='tagify__tag__avatar-wrap' >\n                    <img  alt=\"icon\" height=\"32px\" width=\"32px\" src=\"").concat(e.icon,"\" />\n                </div>\n                <div class='tagify__tag__info' >\n                   <span class='tagify__tag-text' style=\"margin-left: 10px\">").concat(e.name,"</span>\n                </div>\n            </div>\n        </tag>\n        ")}function P(e){return"\n        <div ".concat(this.getAttributes(e),"\n            class='tagify__dropdown__item ").concat(e.class?e.class:"",'\'\n            tabindex="0"\n            role="option">\n            ').concat(e.icon?'\n                <div class=\'tagify__dropdown__item__avatar-wrap\'>\n                    <img onerror="this.style.visibility=\'hidden\'" height="16" src="'.concat(e.icon,'">\n                </div>'):"","\n            <strong>").concat(e.name,"</strong> <br>\n            <span>").concat(e.description,"</span>\n        </div>\n    ")}let V=(0,a.forwardRef)(function(e,t){let{settings:s,whitelist:n,loading:l,readOnly:i,defaultValue:o,...d}=e,c=(0,a.useRef)(),u=(0,a.useRef)();return(0,a.useEffect)(()=>{if(!c.current||void 0===M.A)return;let e=new M.A(c.current,{...s,...d});return u.current=e,()=>{e.destroy(),u.current=null}},[c]),(0,a.useImperativeHandle)(t,()=>({currentValue:()=>u.current.getMixedTagsAsString(),clear:()=>{u.current.removeAllTags()}}),[u.current,c.current]),(0,a.useEffect)(()=>{u.current&&l&&u.current.loading(!0).dropdown.hide()},[l]),(0,a.useEffect)(()=>{let e=u.current;e&&o&&!l&&!T(o,e.getInputValue())&&e.loadOriginalValues('sssss [[{"value":"roses.jpg","name":"roses.jpg","description":"","icon":"http://localhost:8081/files/thumbnail_roses.jpg","type":"image","prefix":"@"}]]')},[o,l,n]),(0,a.useEffect)(()=>{let e=u.current;e&&(e.settings.whitelist.length=0,n&&n.length&&e.settings.whitelist.push(...n))},[n]),(0,a.useEffect)(()=>{let e=u.current;e&&e.setReadonly(i)},[i]),(0,r.jsx)("div",{className:"tags-input",children:(0,r.jsx)(D,{ref:c,className:"w-full shadow-none focus-visible:ring-0"})})}),q=(0,a.forwardRef)(function(e,t){let{inputTags:s,settings:a,...n}=e;return a={maxTags:20,mode:"mix",keepInvalidTags:!0,pattern:/@/,tagTextProp:"name",pasteAsTags:!0,enforceWhitelist:!0,placeholder:"Type your message here...",dropdown:{enabled:0,classname:"chat-input",maxItems:6,mapValueTo:"name",includeSelectedTags:!0},duplicates:!0,templates:{dropdownItemNoMatch:function(e){return"<div class='".concat(this.settings.classNames.dropdownItem,'\' value="noMatch" tabindex="0" role="option">No suggestion found for: <strong>').concat(e.value,"</strong></div>")},dropdownItem:P,tag:E},...a},(0,r.jsx)(V,{ref:t,settings:a,whitelist:s,...n})});s(58516);var L=s(7150);function O(e){let{inputTags:t=[],tagValueAccessor:s="name",onMessageSend:n=null}=e,l=(0,a.useRef)();return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=l.current,r=t.currentValue();r&&(r=r.replace(/\[\[(.*?)\]\]/g,e=>JSON.parse(e)[0].map(e=>"["+e[s]+"]").join(", ")),n&&(n(r),t.clear()))},className:"relative rounded-lg border bg-background focus-within:ring-1 focus-within:ring-ring p-2",children:[(0,r.jsx)(q,{ref:l,inputTags:t,readOnly:!1}),(0,r.jsx)("div",{className:"flex items-center p-3 pt-0 mt-2",children:(0,r.jsxs)(_.$,{type:"submit",size:"sm",className:"ml-auto gap-1.5",children:["Send Message",(0,r.jsx)(L.A,{className:"size-3.5"})]})})]})}var Q=s(26715),U=s(19373),K=s(5041),B=s(83819),J=s(82940),$=s.n(J),Y=s(7881),W=s(93081),H=s(66474),X=s(47863),Z=s(5196);let G=W.bL;W.YJ;let ee=W.WT,et=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(W.l9,{ref:t,className:(0,z.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[a,(0,r.jsx)(W.In,{asChild:!0,children:(0,r.jsx)(H.A,{className:"h-4 w-4 opacity-50"})})]})});et.displayName=W.l9.displayName;let es=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(W.PP,{ref:t,className:(0,z.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(X.A,{className:"h-4 w-4"})})});es.displayName=W.PP.displayName;let er=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(W.wn,{ref:t,className:(0,z.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(H.A,{className:"h-4 w-4"})})});er.displayName=W.wn.displayName;let ea=a.forwardRef((e,t)=>{let{className:s,children:a,position:n="popper",...l}=e;return(0,r.jsx)(W.ZL,{children:(0,r.jsxs)(W.UC,{ref:t,className:(0,z.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,r.jsx)(es,{}),(0,r.jsx)(W.LM,{className:(0,z.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(er,{})]})})});ea.displayName=W.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(W.JU,{ref:t,className:(0,z.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=W.JU.displayName;let en=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(W.q7,{ref:t,className:(0,z.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(W.VF,{children:(0,r.jsx)(Z.A,{className:"h-4 w-4"})})}),(0,r.jsx)(W.p4,{children:a})]})});en.displayName=W.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(W.wv,{ref:t,className:(0,z.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=W.wv.displayName;var el=s(62222);function ei(e){return"number"!=typeof e?"Error: Input is not a number.":Number.isInteger(e)?e.toLocaleString():e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function eo(e){let{data:t=[],isLoading:s}=(0,U.I)({queryKey:["models"],queryFn:async()=>{let{data:e}=await B.S.get("/models");return e},select:e=>e.filter(e=>{let{supportedActions:t}=e;return t.includes("generateContent")})}),n=(0,a.useMemo)(()=>t.map(e=>{let{name:t,displayName:s,description:a,inputTokenLimit:n,outputTokenLimit:l}=e;return(0,r.jsx)(en,{value:t,children:(0,r.jsxs)("div",{className:"flex items-start gap-3 text-muted-foreground w-[300px] p-0 m-0",children:[(0,r.jsx)(c.A,{}),(0,r.jsxs)("div",{className:"flow flow-col gap-0.5",children:[(0,r.jsx)("p",{className:"text-sm text-foreground font-medium",children:t}),(0,r.jsxs)("div",{"data-details":!0,children:[(0,r.jsx)("p",{className:"text-xs",children:(0,r.jsx)("span",{className:"font-medium text-foreground",children:s})}),(0,r.jsx)("p",{className:"text-xs",children:a}),(0,r.jsxs)("p",{className:"text-xs",children:[(0,r.jsx)("span",{className:"font-medium text-foreground",children:"Input tokens:"})," ",(0,r.jsx)("span",{className:"text-muted-foreground",children:ei(n)})]}),(0,r.jsxs)("p",{className:"text-xs",children:[(0,r.jsx)("span",{className:"font-medium text-foreground",children:"Output tokens:"})," ",(0,r.jsx)("span",{className:"text-muted-foreground",children:ei(l)})]})]})]})]})},t)}),[t]);return(0,r.jsxs)(G,{...e,children:[(0,r.jsx)(el.MJ,{children:(0,r.jsx)(et,{className:"flex items-stretch [&_[data-details]]:hidden  min-w-[300px]",children:(0,r.jsx)(ee,{placeholder:s?"Loading models...":"Select a model"})})}),(0,r.jsx)(ea,{children:s?(0,r.jsx)(en,{disabled:!0,value:"loading",children:"Loading..."}):n})]})}var ed=s(62177),ec=s(90221),eu=s(55594);let em=eu.z.object({model:eu.z.string().min(1),temperature:eu.z.coerce.number().min(0).max(2),topP:eu.z.coerce.number().min(0).max(1),topK:eu.z.coerce.number().int()}),ef=(0,a.forwardRef)(function(e,t){let s=(0,Q.jE)(),n=(0,ed.mN)({resolver:(0,ec.u)(em),defaultValues:{temperature:0,topP:.9,topK:1}}),l=async(e,t)=>{t.preventDefault(),console.log(e)};(0,a.useImperativeHandle)(t,()=>({getSettings:()=>n.getValues(),validateSettings:()=>n.trigger()}));let i=e=>{n.setValue("model",e,{shouldValidate:!0}),s.setQueryData(["selectedModel"],e)};return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(el.lV,{...n,children:(0,r.jsx)("form",{onSubmit:n.handleSubmit(l),children:(0,r.jsxs)("fieldset",{className:"grid gap-6 rounded-lg border p-4",children:[(0,r.jsx)("legend",{className:"-ml-1 px-1 text-sm font-medium",children:"Settings"}),(0,r.jsx)("div",{className:"grid gap-3",children:(0,r.jsx)(el.zB,{control:n.control,name:"model",render:e=>{let{field:t}=e;return(0,r.jsxs)(el.eI,{children:[(0,r.jsx)(el.lR,{children:"Model"}),(0,r.jsx)(eo,{onValueChange:e=>i(e),...t}),(0,r.jsx)(el.C5,{})]})}})}),(0,r.jsx)("div",{className:"grid gap-3",children:(0,r.jsx)(el.zB,{control:n.control,name:"temperature",render:e=>{let{field:t}=e;return(0,r.jsxs)(el.eI,{children:[(0,r.jsx)(el.lR,{children:"Temperature"}),(0,r.jsx)(Y.p,{type:"number",placeholder:0,min:0,step:.1,...t}),(0,r.jsx)(el.C5,{})]})}})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"grid gap-3",children:(0,r.jsx)(el.zB,{control:n.control,name:"topP",render:e=>{let{field:t}=e;return(0,r.jsxs)(el.eI,{children:[(0,r.jsx)(el.lR,{children:"Top P"}),(0,r.jsx)(Y.p,{type:"number",placeholder:0,step:.1,...t}),(0,r.jsx)(el.C5,{})]})}})}),(0,r.jsx)("div",{className:"grid gap-3",children:(0,r.jsx)(el.zB,{control:n.control,name:"topK",render:e=>{let{field:t}=e;return(0,r.jsxs)(el.eI,{children:[(0,r.jsx)(el.lR,{children:"Top K"}),(0,r.jsx)(Y.p,{type:"number",placeholder:0,min:0,step:1,...t}),(0,r.jsx)(el.C5,{})]})}})})]})]})})})})});var ep=s(14448);let eg="ws://".concat("127.0.0.1:8080","/ws");function ex(){let e=(0,Q.jE)(),t=(0,a.useRef)(null),{sendJsonMessage:s,lastJsonMessage:n,readyState:l}=(0,ep.Ay)(eg,{share:!1,shouldReconnect:()=>!1}),{data:i}=(0,U.I)({queryKey:["selectedModel"],queryFn:async()=>e.getQueryData(["selectedModel"])||null});(0,a.useEffect)(()=>{console.log("Connection state changed"),l===ep.vj.OPEN&&s({event:"subscribe",data:{channel:"messages"}})},[s,l]);let o="/tags",{data:d,isLoading:c,refetch:u}=(0,U.I)({queryKey:[o],queryFn:async()=>(await B.S.get(o)).data}),{data:m}=(0,U.I)({queryKey:["messages"],queryFn:async()=>e.getQueryData(["messages"])||[]}),f=(0,K.n)({mutationFn:async e=>{s({event:"generate_response",data:e})}});(0,a.useEffect)(()=>{let{event:e,data:t}=n||{};if("response_completed"===e)g.mutate({loading:!1});else if("response_chunk"===e){let e=x();if(e){let{content:s}=e;g.mutate({content:s+t,loading:!1})}}else"response_error"===e&&g.mutate({content:"Ups! Something went wrong. I cannot generate a response at the moment",loading:!1,error:t})},[n]),(0,a.useEffect)(()=>{i&&s({event:"set_model",data:{model:i}})},[i]);let p=(0,K.n)({mutationFn:async t=>{e.setQueryData(["messages"],e=>[...e,t])}});(0,K.n)({mutationFn:async t=>{e.setQueryData(["messages"],e=>e.map(e=>e.timestamp===t.timestamp?t:e))}});let g=(0,K.n)({mutationFn:async t=>{e.setQueryData(["messages"],e=>{let s={...e[e.length-1],...t};return[...e.slice(0,-1),s]})}}),x=()=>e.getQueryData(["messages"])[e.getQueryData(["messages"]).length-1];function h(e,t,s,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n={role:e,content:t,timestamp:new Date().toISOString(),rawMessage:r,loading:s,moment:$()().format("MMMM Do YYYY, h:mm:ss a")};a&&(n.error=a),p.mutate(n)}async function v(s){if(s)try{let r=t.current;if(!await r.validateSettings())return;let a=e.getQueryData(["selectedModel"]),n=t.current.getSettings();n={temperature:parseFloat(n.temperature),top_k:parseInt(n.top_k),top_p:parseFloat(n.top_p)};let l={model:a,message:s,settings:n};h("user",s.replace(/[\[\](){}<>]/g,""),!1,s),h("model","",!0,s),await f.mutateAsync(l)}catch(e){console.log("error in generating response",e),g.mutate({content:"Ups! Something went wrong. I cannot generate a response at the moment",loading:!1,error:e})}}let j=async(e,t)=>{await v(e)},b=async()=>{e.setQueryData(["messages"],[]),s({event:"clear_queue",data:{}})};return(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"flex flex-col  rounded-xl bg-muted/50 p-1 border-2 h-screen lg:h-[calc(100vh-90px)] w-full m-0",children:[(0,r.jsx)("div",{className:"w-full h-dvh overflow-auto",children:(0,r.jsx)(F,{messages:m,onClearChatQueue:b})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(O,{inputTags:d,onMessageSend:j,tagValueAccessor:"name"})})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(ef,{ref:t})})]})}},58516:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>c,k$:()=>d,m_:()=>o});var r=s(95155),a=s(12115),n=s(89613),l=s(25384);let i=n.Kq,o=n.bL,d=n.l9,c=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...i}=e;return(0,r.jsx)(n.UC,{ref:t,sideOffset:a,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});c.displayName=n.UC.displayName},58846:()=>{},60060:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(95155);s(12115);var a=s(74466),n=s(25384);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...a})}},62222:(e,t,s)=>{"use strict";s.d(t,{lV:()=>u,MJ:()=>v,Rr:()=>j,zB:()=>f,eI:()=>x,lR:()=>h,C5:()=>b});var r=s(95155),a=s(12115),n=s(99708),l=s(62177),i=s(25384),o=s(40968);let d=(0,s(74466).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.b,{ref:t,className:(0,i.cn)(d(),s),...a})});c.displayName=o.b.displayName;let u=l.Op,m=a.createContext({}),f=e=>{let{...t}=e;return(0,r.jsx)(m.Provider,{value:{name:t.name},children:(0,r.jsx)(l.xI,{...t})})},p=()=>{let e=a.useContext(m),t=a.useContext(g),{getFieldState:s,formState:r}=(0,l.xW)(),n=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},g=a.createContext({}),x=a.forwardRef((e,t)=>{let{className:s,...n}=e,l=a.useId();return(0,r.jsx)(g.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",s),...n})})});x.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e,{error:n,formItemId:l}=p();return(0,r.jsx)(c,{ref:t,className:(0,i.cn)(n&&"text-destructive",s),htmlFor:l,...a})});h.displayName="FormLabel";let v=a.forwardRef((e,t)=>{let{...s}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:o}=p();return(0,r.jsx)(n.DX,{ref:t,id:l,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...s})});v.displayName="FormControl";let j=a.forwardRef((e,t)=>{let{className:s,...a}=e,{formDescriptionId:n}=p();return(0,r.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});j.displayName="FormDescription";let b=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e,{error:l,formMessageId:o}=p(),d=l?String(null==l?void 0:l.message):a;return d?(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",s),...n,children:d}):null});b.displayName="FormMessage"},71554:e=>{e.exports={loader:"styles_loader__bURed"}},83819:(e,t,s)=>{"use strict";s.d(t,{S:()=>n});var r=s(23464);let a="http://".concat("127.0.0.1:8080","/api");console.log(a);let n=r.A.create({baseURL:a,headers:{"Content-type":"application/json"}})},88964:(e,t,s)=>{Promise.resolve().then(s.bind(s,51571))},90249:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[279,105,586,835,905,571,441,684,358],()=>t(88964)),_N_E=e.O()}]);